<!DOCTYPE HTML>
<html>
<head>
    <title>day 17</title>
	<script src="functions.js"></script>

<style>
a {
display: block;
padding: 10px 20px;
border-bottom: 1px solid #efefef;
}
</style>


<script>

// http://www.unarmedjavascript.com/2008/08/28/popups/
// Create a function that when a link is clicked with a rel value of “popup” it is opened in a popup window.

// Reference:

// window.open - http://developer.mozilla.org/En/DOM:window.open
// event.target - http://developer.mozilla.org/en/DOM/event.target
// element.onclick - http://developer.mozilla.org/en/DOM/element.onclick
// prevent default event action (following link) - http://www.quirksmode.org/js/events_early.html#link3

var popWindow = {
			
	init: function(relValue) {
		var self = this;
		var links = document.getElementsByTagName('a');
		for (var i=0; i < links.length; i++) {
			if(links[i].getAttribute('rel') == relValue) {
				links[i].addEventListener('click', self.openWindow, false);
			}
		};
	}, 
	
	openWindow: function(e) {
		var url = this.href;
		var newWindow = window.open(url, 'kid');
		e.preventDefault();
	}
	
}


</script>

</head>
<body>
  
<a href="http://www.pinchzoom.com">PinchZoom</a>
<a id='trigger' rel="popup" href="http://www.google.com">Google (popup)</a>

<script>
	window.onload = function() {
		popWindow.init('popup');
	}
</script>
</body>
</html>

