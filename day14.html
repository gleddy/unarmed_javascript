<!DOCTYPE HTML>
<html>
<head>
    <title>day 14</title>
	<script src="jquery_v1.6.2.js"></script>

<style type="text/css" media="screen">
#move {
border: 1px solid #000;
background: red;
width: 100px;
height: 100px;
color: #fff;
position: absolute;
top: 100px;
left: 100px;
}
</style>


<script>

// Using the template below implement a drag and drop. The drag target is <div id="target"></div>
// Bonus: get it working in Internet Explorer & Firefox

/**
* @reference
* mouse coordinate X - http://developer.mozilla.org/en/docs/DOM:event.clientX
* mouse coordinate Y - http://developer.mozilla.org/en/docs/DOM:event.clientY
* node offset left - http://developer.mozilla.org/en/docs/DOM:element.offsetLeft
* node offset top - http://developer.mozilla.org/en/docs/DOM:element.offsetTop
* node setting styles - http://developer.mozilla.org/en/docs/GeckoDOMReference:Examples#Example3:Manipulating_Styles
*/

var dragdrop = {
		
		offsetX : null,
		offsetY : null,
		
		updateNode : function(e) {
			this.style.position = 'absolute';
			this.style.left = (e.clientX - offsetX) + 'px';
			this.style.top = (e.clientY - offsetY) + 'px';
			this.style.color = '#000';
		},
		
		stopNode : function() {
			this.style.color = '#fff';
			this.removeEventListener('mousemove', dragdrop.updateNode, false);
		},
		
		findOffsets : function(e) {
			offsetX = e.clientX - this.offsetLeft;
			offsetY = e.clientY - this.offsetTop;
			this.addEventListener('mousemove', dragdrop.updateNode, false);
			this.addEventListener('mouseup', dragdrop.stopNode, false);
		},
		
		init: function() {
			var self = this;
			var node = document.getElementById('move');
			node.addEventListener('mousedown', self.findOffsets, false); 
		}

};


window.onload = function() {
    dragdrop.init();
}

</script>

</head>
<body>
  
<div id="move">
	<p>moves</p>
</div>

</body>
</html>

